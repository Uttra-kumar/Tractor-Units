<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
</head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tractor - Admin Dashboard</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
    :root {
        --primary: #3a7bd5;
        --secondary: #00d2ff;
        --accent: #ff6b6b;
        --dark: #2c3e50;
        --light: #ecf0f1;
        --success: #2ecc71;
        --warning: #f39c12;
        --info: #3498db;
        --card-bg: #ffffff;
        --header-bg: #ffffff;
        --text-color: #333333;
        --sidebar-bg: linear-gradient(135deg, var(--primary) 0%, #224a8d 100%);
        --menu-bg: #ffffff;
        --card-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        --header-height: 80px;
        --menu-height: 70px;
        --transition: all 0.3s ease;
        --theme-name: 'light';
    }
    
    .dark-theme {
        --primary: #5e97f6;
        --secondary: #00c6ff;
        --accent: #ff7b7b;
        --dark: #f5f6fa;
        --light: #2f3640;
        --card-bg: #2d3436;
        --header-bg: #2d3436;
        --text-color: #f5f6fa;
        --sidebar-bg: linear-gradient(135deg, #2d3436 0%, #2c3e50 100%);
        --menu-bg: #353b48;
        --card-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
        --theme-name: 'dark';
    }
    
    .nature-theme {
        --primary: #2e7d32;
        --secondary: #66bb6a;
        --accent: #ef5350;
        --dark: #1b5e20;
        --light: #e8f5e9;
        --card-bg: #ffffff;
        --header-bg: #e8f5e9;
        --text-color: #1b5e20;
        --sidebar-bg: linear-gradient(135deg, #2e7d32 0%, #1b5e20 100%);
        --menu-bg: #c8e6c9;
        --card-shadow: 0 8px 20px rgba(46, 125, 50, 0.15);
        --theme-name: 'nature';
    }
    
    .sunset-theme {
        --primary: #ff6b6b;
        --secondary: #ff8e53;
        --accent: #4ecdc4;
        --dark: #ff5252;
        --light: #fff5f5;
        --card-bg: #ffffff;
        --header-bg: #fff5f5;
        --text-color: #ff6b6b;
        --sidebar-bg: linear-gradient(135deg, #ff6b6b 0%, #ff8e53 100%);
        --menu-bg: #ffecec;
        --card-shadow: 0 8px 20px rgba(255, 107, 107, 0.15);
        --theme-name: 'sunset';
    }
    
    .ocean-theme {
        --primary: #1e88e5;
        --secondary: #4fc3f7;
        --accent: #ff4081;
        --dark: #0d47a1;
        --light: #e3f2fd;
        --card-bg: #ffffff;
        --header-bg: #e3f2fd;
        --text-color: #1565c0;
        --sidebar-bg: linear-gradient(135deg, #1e88e5 0%, #0d47a1 100%);
        --menu-bg: #bbdefb;
        --card-shadow: 0 8px 20px rgba(30, 136, 229, 0.15);
        --theme-name: 'ocean';
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Poppins', sans-serif;
    }
    
    body {
        background: var(--light);
        color: var(--text-color);
        min-height: 100vh;
        overflow-x: hidden;
        transition: var(--transition);
    }
    
    /* Header Styles */
    .header {
        background: var(--header-bg);
        color: var(--text-color);
        padding: 0 30px;
        height: var(--header-height);
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        box-shadow: var(--card-shadow);
        transition: var(--transition);
    }
    
    .logo {
        display: flex;
        align-items: center;
        font-size: 24px;
        font-weight: 700;
    }
    
    .logo i {
        margin-right: 12px;
        color: var(--secondary);
    }
    
    .time-display {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: rgba(0, 0, 0, 0.1);
        padding: 10px 20px;
        border-radius: 8px;
    }
    
    #current-time {
        font-size: 20px;
        font-weight: 600;
        letter-spacing: 1px;
    }
    
    p {
        line-height: 1rem;
        color: #34495e;
        margin-bottom: 1rem;
    }
    
    footer {
        background: var(--dark);
        color: white;
        padding: 1.5rem 0;
        margin-top: 25px;
    }
    
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 2rem;
        text-align: center;
    }
    
    footer p {
        color: #ecf0f1;
        font-size: 1.2rem;
        margin-bottom: 0.5rem;
    }
    
    footer span {
        color: var(--accent);
        font-weight: 600;
    }
    
    /* Session counter specific styling */
    #counter {
        display: inline-block;
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        background: linear-gradient(45deg, var(--accent), var(--secondary));
        color: white;
        font-size: 20px;
        font-weight: bold;
        box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        animation: pulse 2s infinite;
        margin-left: 0.25rem;
    }
    
    p1 {
        font-size: 1.2rem;
        color: #ecf0f1 !important;
        display: inline-block;
        background: rgba(0, 0, 0, 0.2);
        padding: 0.5rem 1rem;
        border-radius: 5px;
    }
    
    #current-date {
        font-size: 15px;
        color: var(--text-color);
        font-weight: bold;
    }
    
    .admin-info {
        display: flex;
        align-items: center;
        position: relative;
    }
    
    .admin-info img {
        width: 45px;
        height: 45px;
        border-radius: 50%;
        margin-right: 15px;
        border: 2px solid var(--secondary);
        object-fit: cover;
    }
    
    .admin-details {
        line-height: 1.3;
    }
    
    .admin-details h3 {
        font-size: 16px;
        font-weight: 600;
    }
    
    .admin-details p {
        font-size: 12px;
        color: var(--text-color);
    }
    
    .theme-toggle {
        margin-left: 20px;
        cursor: pointer;
        font-size: 22px;
        color: var(--text-color);
        transition: var(--transition);
        position: relative;
    }
    
    .theme-options {
        position: absolute;
        top: 100%;
        right: 0;
        background: var(--card-bg);
        border-radius: 8px;
        box-shadow: var(--card-shadow);
        padding: 10px;
        display: none;
        flex-direction: column;
        gap: 10px;
        z-index: 1001;
        min-width: 150px;
        margin-top: 10px;
    }
    
    .theme-option {
        display: flex;
        align-items: center;
        padding: 8px 12px;
        border-radius: 6px;
        cursor: pointer;
        transition: var(--transition);
    }
    
    .theme-option:hover {
        background: rgba(0, 0, 0, 0.05);
    }
    
    .theme-option.active {
        background: rgba(0, 0, 0, 0.1);
        font-weight: 600;
    }
    
    .theme-color {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        margin-right: 10px;
    }
    
    .theme-light .theme-color {
        background: linear-gradient(135deg, #3a7bd5, #00d2ff);
    }
    
    .theme-dark .theme-color {
        background: linear-gradient(135deg, #2d3436, #2c3e50);
    }
    
    .theme-nature .theme-color {
        background: linear-gradient(135deg, #2e7d32, #66bb6a);
    }
    
    .theme-sunset .theme-color {
        background: linear-gradient(135deg, #ff6b6b, #ff8e53);
    }
    
    .theme-ocean .theme-color {
        background: linear-gradient(135deg, #1e88e5, #4fc3f7);
    }
    
    /* Horizontal Menu */
    .horizontal-menu {
        background: var(--menu-bg);
        margin-top: var(--header-height);
        padding: 0 30px;
        display: flex;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 999;
        height: var(--menu-height);
        transition: var(--transition);
        overflow-x: auto;
        white-space: nowrap;
    }
    
    .horizontal-menu::-webkit-scrollbar {
        height: 5px;
    }
    
    .horizontal-menu::-webkit-scrollbar-track {
        background: transparent;
    }
    
    .horizontal-menu::-webkit-scrollbar-thumb {
        background: var(--primary);
        border-radius: 10px;
    }
    
    .menu-item {
        padding: 0 25px;
        display: flex;
        align-items: center;
        transition: var(--transition);
        cursor: pointer;
        border-bottom: 3px solid transparent;
        position: relative;
        overflow: hidden;
        height: 100%;
    }
    
    a {
        text-decoration: none;
    }
    
    .menu-item::before {
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        width: 0;
        background: rgba(58, 123, 213, 0.1);
        transition: var(--transition);
        z-index: 0;
    }
    
    .menu-item:hover::before {
        width: 100%;
    }
    
    .menu-item:hover {
        border-bottom: 3px solid var(--secondary);
    }
    
    .menu-item.active {
        background: rgba(58, 123, 213, 0.1);
        border-bottom: 3px solid var(--secondary);
    }
    
    .menu-item i {
        margin-right: 10px;
        font-size: 18px;
        color: var(--primary);
        position: relative;
        z-index: 1;
    }
    
    .menu-item span {
        font-size: 15px;
        font-weight: 500;
        position: relative;
        z-index: 1;
        color: var(--text-color);
    }
    
    .logout {
        margin-left: auto;
        display: flex;
        align-items: center;
        color: var(--accent);
        cursor: pointer;
        padding: 0 25px;
        transition: var(--transition);
        height: 100%;
    }
    
    .logout:hover {
        background: rgba(255, 107, 107, 0.1);
    }
    
    .logout i {
        margin-right: 10px;
        font-size: 18px;
    }
    
    .logout span {
        font-size: 15px;
        font-weight: 500;
    }
    
    /* Main Content Styles */
    .main-content {
        margin-top: calc(var(--header-height) + var(--menu-height));
        padding: 30px;
        transition: var(--transition);
    }
    
    .stats-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 25px;
        margin-bottom: 40px;
    }
    
    .card {
        background: var(--card-bg);
        border-radius: 15px;
        padding: 25px;
        box-shadow: var(--card-shadow);
        transition: var(--transition);
        position: relative;
        overflow: hidden;
    }
    
    .card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 5px;
        height: 100%;
        background: linear-gradient(to bottom, var(--primary), var(--secondary));
    }
    
    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
    }
    
    .stat-card {
        display: flex;
        align-items: center;
    }
    
    .stat-icon {
        width: 70px;
        height: 70px;
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
        margin-right: 20px;
        background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        color: white;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .stat-details h3 {
        font-size: 28px;
        margin-bottom: 5px;
        color: var(--text-color);
    }
    
    .stat-details p {
        color: #7f8c8d;
        font-size: 15px;
    }
    
    .progress-bar {
        height: 6px;
        background: #eee;
        border-radius: 3px;
        overflow: hidden;
        margin-top: 10px;
    }
    
    .progress {
        height: 100%;
        border-radius: 3px;
        transition: width 1s ease-in-out;
    }
    
    .users .progress {
        background: linear-gradient(to right, var(--primary), var(--secondary));
        width: 75%;
    }
    
    .fleet .progress {
        background: linear-gradient(to right, var(--success), #27ae60);
        width: 60%;
    }
    
    .diesel .progress {
        background: linear-gradient(to right, var(--warning), #e67e22);
        width: 85%;
    }
    
    .section {
        margin-bottom: 40px;
    }
    
    .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
    }
    
    .section-header h3 {
        font-size: 22px;
        color: var(--text-color);
        font-weight: 600;
    }
    
    .section-header h3 i {
        color: var(--primary);
        margin-right: 10px;
    }
    
    .view-all {
        color: var(--primary);
        text-decoration: none;
        font-weight: 500;
        display: flex;
        align-items: center;
    }
    
    .view-all i {
        margin-left: 5px;
        transition: var(--transition);
    }
    
    .view-all:hover i {
        transform: translateX(5px);
    }
    
    /* Card Rows with Two Cards Each */
    .card-rows {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        gap: 25px;
    }
    
    .section-card {
        background: var(--card-bg);
        border-radius: 15px;
        padding: 30px;
        box-shadow: var(--card-shadow);
        transition: var(--transition);
        cursor: pointer;
        border: 1px solid transparent;
        position: relative;
        overflow: hidden;
        height: 100%;
    }
    
    .section-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: linear-gradient(to right, var(--primary), var(--secondary));
    }
    
    .section-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        border-color: var(--primary);
    }
    
    .section-card i {
        font-size: 36px;
        margin-bottom: 20px;
        color: var(--primary);
        background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    .section-card h4 {
        font-size: 20px;
        margin-bottom: 15px;
        color: var(--text-color);
    }
    
    .section-card p {
        color: #7f8c8d;
        font-size: 15px;
        line-height: 1.6;
        margin-bottom: 20px;
    }
    
    .card-link {
        color: var(--primary);
        text-decoration: none;
        font-weight: 500;
        display: flex;
        align-items: center;
    }
    
    .card-link i {
        font-size: 16px;
        margin-left: 5px;
        transition: var(--transition);
        background: none;
        -webkit-background-clip: unset;
        -webkit-text-fill-color: unset;
        color: var(--primary);
    }
    
    .card-link:hover i {
        transform: translateX(5px);
    }
    
    /* Mobile menu toggle */
    .mobile-menu-toggle {
        display: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 30px;
        height: 30px;
        cursor: pointer;
        margin-right: 20px;
    }
    
    .mobile-menu-toggle span {
        width: 100%;
        height: 3px;
        background: var(--text-color);
        margin: 2px 0;
        transition: var(--transition);
        border-radius: 3px;
    }
    
    /* Responsive Design */
    @media (max-width: 1200px) {
        .horizontal-menu {
            padding: 0 15px;
        }
        
        .menu-item span {
            font-size: 14px;
        }
        
        .menu-item {
            padding: 0 20px;
        }
    }
    
    @media (max-width: 992px) {
        .stats-cards {
            grid-template-columns: 1fr 1fr;
        }
        
        .header {
            padding: 0 20px;
        }
        
        .logo {
            font-size: 20px;
        }
        
        .time-display {
            padding: 8px 15px;
        }
        
        #current-time {
            font-size: 18px;
        }
        
        .card-rows {
            grid-template-columns: 1fr;
        }
    }
    
    @media (max-width: 768px) {
        .stats-cards {
            grid-template-columns: 1fr;
        }
        
        .header {
            flex-wrap: wrap;
            height: auto;
            padding: 15px;
        }
        
        .logo {
            order: 1;
            margin-bottom: 15px;
            width: 100%;
            justify-content: center;
        }
        
        .time-display {
            order: 3;
            width: 100%;
            margin-top: 15px;
        }
        
        .admin-info {
            order: 2;
        }
        
        .horizontal-menu {
            margin-top: 130px;
            flex-wrap: wrap;
            height: auto;
            flex-direction: column;
            padding: 0;
            display: none;
        }
        
        .menu-item {
            height: 60px;
            width: 100%;
            padding: 0 20px;
            border-bottom: none;
            border-left: 3px solid transparent;
        }
        
        .menu-item:hover {
            border-bottom: none;
            border-left: 3px solid var(--secondary);
        }
        
        .menu-item.active {
            border-bottom: none;
            border-left: 3px solid var(--secondary);
        }
        
        .logout {
            margin-left: 0;
            padding: 0 20px;
            width: 100%;
            border-left: 3px solid transparent;
            height: 60px;
        }
        
        .main-content {
            margin-top: calc(var(--header-height));
            padding: 20px;
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            font-size: 24px;
        }
        
        .mobile-menu-toggle {
            display: flex;
        }
        
        .menu-open .horizontal-menu {
            display: flex;
        }
        
        .mobile-menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        
        .mobile-menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }
        
        .mobile-menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }
    }
    
    @media (max-width: 576px) {
        .main-content {
            margin-top: calc(var(--header-height));
            padding: 15px;
        }
        
        .section-header {
            flex-direction: column;
            align-items: flex-start;
        }
        
        .view-all {
            margin-top: 10px;
        }
        
        .theme-options {
            left: 0;
            right: auto;
        }
    }
    
    /* Animation for data loading */
    @keyframes pulse {
        0% {
            opacity: 0.6;
        }
        
        50% {
            opacity: 1;
        }
        
        100% {
            opacity: 0.6;
        }
    }
    
    .loading {
        animation: pulse 1.5s infinite;
        background: #f0f0f0;
        color: transparent;
        border-radius: 4px;
    }
</style>
</head>

<body>
    <!-- Header -->
    <div class="header">
        <div class="mobile-menu-toggle" id="mobileMenuToggle">
            <span></span>
            <span></span>
            <span></span>
        </div>
        
        <div class="logo">
            <i class="fas fa-tractor"></i>
            <span>Tractor Admin</span>
        </div>
        
        <div class="time-display">
            <div id="current-time">11:45:32 AM</div>
            <div id="current-date">September 17, 2023</div>
        </div>
        
        <div class="admin-info">
            <div class="admin-details">
                <h3 id="admin-name"><i class="fas fa-user"></i> Admin Administrator</h3>
                <p>System Administrator</p>
            </div>
            <div class="theme-toggle" id="theme-toggle">
                <i class="fas fa-palette"></i>
                <div class="theme-options" id="theme-options">
                    <div class="theme-option theme-light active">
                        <div class="theme-color"></div>
                        <span>Light</span>
                    </div>
                    <div class="theme-option theme-dark">
                        <div class="theme-color"></div>
                        <span>Dark</span>
                    </div>
                    <div class="theme-option theme-nature">
                        <div class="theme-color"></div>
                        <span>Nature</span>
                    </div>
                    <div class="theme-option theme-sunset">
                        <div class="theme-color"></div>
                        <span>Sunset</span>
                    </div>
                    <div class="theme-option theme-ocean">
                        <div class="theme-color"></div>
                        <span>Ocean</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Horizontal Menu -->
    <div class="horizontal-menu">
        <div class="menu-item active">
            <i class="fas fa-tachometer-alt"></i>
            <span>Dashboard</span>
        </div>
        <a href="admin-fleet.html">
            <div class="menu-item">
                <i class="fas fa-tractor"></i>
                <span>Fleet</span>
            </div>
        </a>
        <a href="admin-diseal.html">
            <div class="menu-item">
                <i class="fas fa-gas-pump"></i>
                <span>Diesel</span>
            </div>
        </a>
        <a href="admin-payment.html">
            <div class="menu-item">
                <i class="fas fa-money-bill-wave"></i>
                <span>Payment</span>
            </div>
        </a>
        <a href="admin-alluser.html">
            <div class="menu-item">
                <i class="fas fa-users"></i>
                <span>All Users</span>
            </div>
        </a>
        <a href="user-login.html">
            <div class="menu-item">
                <i class="fas fa-users"></i>
                <span>User Login</span>
            </div>
        </a>
        <a href="admin.html">
            <div class="menu-item">
                <i class="fas fa-cogs"></i>
                <span>Admin Data</span>
            </div>
        </a>
        <div class="logout" id="logoutBtn">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <div class="stats-cards">
            <div class="card users">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-details">
                        <h3 id="user-count" class="loading">0</h3>
                        <p>Total Users</p>
                        <div class="progress-bar">
                            <div class="progress"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card fleet">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-tractor"></i>
                    </div>
                    <div class="stat-details">
                        <h3 id="fleet-count" class="loading">0</h3>
                        <p>Total Fleet</p>
                        <div class="progress-bar">
                            <div class="progress"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card diesel">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-gas-pump"></i>
                    </div>
                    <div class="stat-details">
                        <h3 id="diesel-amount" class="loading">0 L</h3>
                        <p>Total Diesel</p>
                        <div class="progress-bar">
                            <div class="progress"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card diesel">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <div class="stat-details">
                        <h3 id="amount" class="loading">0 ₹</h3>
                        <p>Total Amount</p>
                        <div class="progress-bar">
                            <div class="progress"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section">
            <div class="section-header">
                <h3><i class="fas fa-bolt"></i> Quick Access</h3>
                <a href="#" class="view-all">View All <i class="fas fa-arrow-right"></i></a>
            </div>
            
            
                <a href="admin-alluser.html" style="text-decoration: none;">
                    <div class="card-rows">
                    <div class="section-card">
                        <i class="fas fa-users"></i>
                        <h4>All User</h4>
                        <p>View and manage group wise user details and fleets and payments</p>
                        <a href="admin-alluser.html" class="card-link">Access</a>
                    </div>
                </a>
                
                <a href="userFleet.html" style="text-decoration: none;">
                    <div class="section-card">
                        <i class="fas fa-filter"></i>
                        <h4>User Fleet Entry</h4>
                        <p>Process and track fleet and manage fleet by a user</p>
                        <a href="userFleet.html" class="card-link">Access</a>
                    </div>
                </a>
                
                <a href="admin-f&PP.html" style="text-decoration: none;">
                    <div class="section-card">
                        <i class="fas fa-chart-line"></i>
                        <h4>Admin F&P 2</h4>
                        <p>Monitor fuel consumption patterns, generate reports, and optimize fuel usage across your fleet.</p>
                        <a href="admin-f&PP.html" class="card-link">Access</a>
                    </div>
                </a>
                
                <a href="userUpdate.html" style="text-decoration: none;">
                    <div class="section-card">
                        <i class="fas fa-cogs"></i>
                        <h4>User Updation</h4>
                        <p>Manage user accounts, permissions, and access levels for the tractor management system.</p>
                        <a href="userUpdate.html" class="card-link">Access</a>
                    </div>
                </a>
                
                <a href="adminfilter.html" style="text-decoration: none;">
                    <div class="section-card">
                        <i class="fas fa-tractor"></i>
                        <h4>Admin Filter</h4>
                        <p>View and manage individual fleet details, maintenance in Date wise and operational status.</p>
                        <a href="adminfilter.html" class="card-link">Access</a>
                    </div>
                </a>
                
                <a href="admin-f&p.html" style="text-decoration: none;">
                    <div class="section-card">
                        <i class="fas fa-tractor"></i>
                        <h4>F&P Filtration</h4>
                        <p>View and manage individual tractor fleet details and Payment records, and operational status.</p>
                        <a href="admin-f&p.html" class="card-link">Access</a>
                    </div>
                </a>
            <a href="paymentReg.html" style="text-decoration: none;">
                    <div class="section-card">
                        <i class="fas fa-credit-card"></i>
                        <h4>Payment Details</h4>
                        <p>View and manage individual & whole tractor fleet details and Payment records, and operational status.</p>
                        <a href="paymentReg.html" class="card-link">Access</a>
                    </div>
            </a>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 Tractor Fleet Management || Designed By <span>Uttra Patel</span><br />
                <p1>session expired is <span id="counter">0s</span></p1>
            </p>
        </div>
    </footer>
    
    <script src="session.js"></script>
    <script>
        // Real-time clock function
        function updateClock() {
            const now = new Date();
            
            // Format time in 12-hour format
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            
            hours = hours % 12;
            hours = hours ? hours : 12; // the hour '0' should be '12'
            hours = hours.toString().padStart(2, '0');
            
            const timeString = `${hours}:${minutes}:${seconds} ${ampm}`;
            
            // Format date
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const dateString = now.toLocaleDateString('en-US', options);
            
            // Update the DOM
            document.getElementById('current-time').textContent = timeString;
            document.getElementById('current-date').textContent = dateString;
        }
        
        // Update clock every second
        setInterval(updateClock, 1000);
        
        // Initial call to display clock immediately
        updateClock();
        
        // Menu item click handler
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
            });
        });
        
        // Theme toggle functionality
        const themeToggle = document.getElementById('theme-toggle');
        const themeOptions = document.getElementById('theme-options');
        
        themeToggle.addEventListener('click', function(e) {
            e.stopPropagation();
            themeOptions.style.display = themeOptions.style.display === 'flex' ? 'none' : 'flex';
        });
        
        // Close theme options when clicking outside
        document.addEventListener('click', function() {
            themeOptions.style.display = 'none';
        });
        
        // Prevent theme options from closing when clicking inside
        themeOptions.addEventListener('click', function(e) {
            e.stopPropagation();
        });
        
        // Theme selection functionality
        document.querySelectorAll('.theme-option').forEach(option => {
            option.addEventListener('click', function() {
                // Remove all theme classes
                document.body.classList.remove('dark-theme', 'nature-theme', 'sunset-theme', 'ocean-theme');
                
                // Remove active class from all options
                document.querySelectorAll('.theme-option').forEach(opt => {
                    opt.classList.remove('active');
                });
                
                // Add active class to clicked option
                this.classList.add('active');
                
                // Apply selected theme
                if (this.classList.contains('theme-dark')) {
                    document.body.classList.add('dark-theme');
                    localStorage.setItem('theme', 'dark');
                } else if (this.classList.contains('theme-nature')) {
                    document.body.classList.add('nature-theme');
                    localStorage.setItem('theme', 'nature');
                } else if (this.classList.contains('theme-sunset')) {
                    document.body.classList.add('sunset-theme');
                    localStorage.setItem('theme', 'sunset');
                } else if (this.classList.contains('theme-ocean')) {
                    document.body.classList.add('ocean-theme');
                    localStorage.setItem('theme', 'ocean');
                } else {
                    localStorage.setItem('theme', 'light');
                }
            });
        });
        
        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            document.body.classList.remove('dark-theme', 'nature-theme', 'sunset-theme', 'ocean-theme');
            
            // Remove active class from all options
            document.querySelectorAll('.theme-option').forEach(opt => {
                opt.classList.remove('active');
            });
            
            // Apply saved theme
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
                document.querySelector('.theme-dark').classList.add('active');
            } else if (savedTheme === 'nature') {
                document.body.classList.add('nature-theme');
                document.querySelector('.theme-nature').classList.add('active');
            } else if (savedTheme === 'sunset') {
                document.body.classList.add('sunset-theme');
                document.querySelector('.theme-sunset').classList.add('active');
            } else if (savedTheme === 'ocean') {
                document.body.classList.add('ocean-theme');
                document.querySelector('.theme-ocean').classList.add('active');
            } else {
                document.querySelector('.theme-light').classList.add('active');
            }
        }
        
        // Mobile menu toggle
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        mobileMenuToggle.addEventListener('click', function() {
            document.body.classList.toggle('menu-open');
            this.classList.toggle('active');
        });
        
        // Example of actual Supabase integration
        let supabase = null;
        const SUPABASE_URL = 'https://iydamvrlxtwsnqvflaxq.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml5ZGFtdnJseHR3c25xdmZsYXhxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwOTczMTIsImV4cCI6MjA3MzY3MzMxMn0.Z8m6XGyu9wsN_UJ8EZYr12BRemsO12_U8EEZ9JizQ6w';
        
        supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        
        async function fetchRealData() {
            // Fetch users
            const { count: userCount, error: userError } = await supabase
                .from('userRegistration-T')
                .select('*', { count: 'exact' });
            
            if (!userError) {
                document.getElementById('user-count').textContent = userCount;
                document.getElementById('user-count').classList.remove('loading');
            }
            
            // Fetch fleet count
            const { count: fleetCount, error: fleetError } = await supabase
                .from('admin-fleet')
                .select('*', { count: 'exact' });
            
            if (!fleetError) {
                document.getElementById('fleet-count').textContent = fleetCount;
                document.getElementById('fleet-count').classList.remove('loading');
            }
            
            // Fetch diesel amount
            const { data: dieselData, error: dieselError } = await supabase
                .from('admin-diseal')
                .select('amount');
            
            const totalAmount = (dieselData || []).reduce((sum, row) => {
                return sum + (parseInt(row.amount) || 0);
            }, 0);
            
            if (!dieselError) {
                document.getElementById('diesel-amount').textContent = `${totalAmount} L`;
                document.getElementById('diesel-amount').classList.remove('loading');
            }
            
            // Fetch payment amount
            const { data: paymentData, error: paymentError } = await supabase
                .from('admin-payment')
                .select('amount');
            
            if (paymentError) {
                console.error("Error fetching payments:", paymentError);
                return;
            }
            
            const totalPayment = (paymentData || []).reduce((sum, row) => {
                return sum + (parseFloat(row.amount) || 0);
            }, 0);
            
            document.getElementById('amount').textContent = `${totalPayment.toFixed(2)} ₹`;
            document.getElementById('amount').classList.remove('loading');

            const { data: adminData, error: adminError } = await supabase
        .from('admin')
        .select('name')
        .single(); // agar ek hi admin hai

    if (!adminError && adminData) {
        document.getElementById('admin-name').textContent = adminData.name;
        document.getElementById('admin-name').classList.remove('loading');
    }
        
        
        }
        
        document.addEventListener("DOMContentLoaded", fetchRealData);
    </script>
</body>

</html>
